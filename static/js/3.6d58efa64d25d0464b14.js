webpackJsonp([3],{"6SC7":function(t,e){},H0Sy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[{title:"ID",dataIndex:"id",width:60},{title:"文章标题",dataIndex:"link_article.blog_title",width:150},{title:"评论内容",dataIndex:"comment_content",width:250},{title:"ip",dataIndex:"ip",width:150},{title:"状态",dataIndex:"statusText",width:80},{title:"评论时间",dataIndex:"create_time",width:160},{title:"操作",dataIndex:"handle",scopedSlots:{customRender:"handle"}}],i={inject:["reload"],data:function(){return{data:[],columns:n}},created:function(){var t=this;this.$http({method:"Get",url:this.HOST+"/admin/article/commentsList",dataType:"json"}).then(function(e){t.data=e.data,t.data.filter(function(t){t.check=0==t.status,t.statusText=0==t.status?"未通过":"通过"})}).catch(function(t){console.log(t)})},methods:{adopt:function(t,e,a){var n=this;this.$http({method:"Post",url:this.HOST+"/admin/article/isComment",data:{id:t,blog_article_id:e,status:a=0==a?1:0},dataType:"json"}).then(function(e){0==e.data.code&&(n.data.filter(function(a){a.id==t&&(a.check=0==e.data.status,a.statusText=0==e.data.status?"未通过":"通过",a.status=e.data.status)}),n.reload())}).catch(function(t){console.log(t)})},deleted:function(t){var e=this;console.log(t),this.data.filter(function(a){if(a.id==t){var n=e.data.indexOf(a);-1!=n&&(e.data.splice(n,1),e.$message.success("删除成功"))}})},handleTableChange:function(t,e,a){console.log(t)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-table",{attrs:{columns:t.columns,dataSource:t.data,bordered:""},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"name",fn:function(e){return a("h4",{attrs:{href:"javascript:;"}},[t._v(t._s(e))])}},{key:"handle",fn:function(e,n){return a("span",{},[a("a-popconfirm",{attrs:{title:"是否审核通过或不通过",okText:"是",cancelText:"否"},on:{confirm:function(e){return t.adopt(n.id,n.blog_article_id,n.status)}}},[n.check?a("a-button",{attrs:{type:"primary"}},[t._v("审核通过")]):t._e(),t._v(" "),n.check?t._e():a("a-button",{attrs:{type:"danger"}},[t._v("取消通过")])],1)],1)}}])})],1)},staticRenderFns:[]};var s=a("VU/8")(i,d,!1,function(t){a("6SC7")},null,null);e.default=s.exports}});
//# sourceMappingURL=3.6d58efa64d25d0464b14.js.map